<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:vm="using:CrossGames.ViewModels"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
             xmlns:controls="using:CrossGames.Controls"
             x:DataType="vm:Page2048ViewModel"
             x:Class="CrossGames.Views.Page2048View">
    <Design.DataContext>
        <vm:Page2048ViewModel/>
    </Design.DataContext>
    <UserControl.DataContext>
		<vm:Page2048ViewModel/>
    </UserControl.DataContext>   
    
    <Grid RowDefinitions="40,*,auto">        
		<StackPanel Orientation="Horizontal" VerticalAlignment="Center" Spacing="10" Height="40">
            <StackPanel.Styles>
				<Style Selector=":is(Control)">
					<Setter Property="VerticalAlignment" Value="Center"/>
                </Style>
                <Style Selector="TextBlock">
                    <Setter Property="VerticalAlignment" Value="Center"/>
                </Style>
            </StackPanel.Styles>
			<TextBlock>当前分数：</TextBlock>
			<TextBlock Foreground="Orange" FontWeight="Bold" Text="{Binding Score}"/>
            <TextBlock Text="历史记录:"/>
            <TextBlock Text="{Binding MaxScore}"/>
            <Button Content="重新开始" FontFamily="{StaticResource simyou}" Command="{Binding RestartCommand}"/>
            <CheckBox x:Name="CKB" FontFamily="{StaticResource simyou}" Content="横屏模式"/>
		</StackPanel>
        <Grid Grid.Row="1" ColumnDefinitions="*,auto">
			<controls:MatrixGrid Grid.Row="1"
                             matrix11="{Binding Matrix11}"
                             matrix12="{Binding Matrix12}"
                             matrix13="{Binding Matrix13}"
                             matrix14="{Binding Matrix14}"
                             matrix21="{Binding Matrix21}"
                             matrix22="{Binding Matrix22}"
                             matrix23="{Binding Matrix23}"
                             matrix24="{Binding Matrix24}"
                             matrix31="{Binding Matrix31}"
                             matrix32="{Binding Matrix32}"
                             matrix33="{Binding Matrix33}"
                             matrix34="{Binding Matrix34}"
                             matrix41="{Binding Matrix41}"
                             matrix42="{Binding Matrix42}"
                             matrix43="{Binding Matrix43}"
                             matrix44="{Binding Matrix44}"/>
           <StackPanel Grid.Column="1" Margin="10,0" 
                       HorizontalAlignment="Center"
                       VerticalAlignment="Center"
                       IsVisible="{Binding #CKB.IsChecked}">
           <StackPanel.Styles>
			   <Style Selector="Button">
				   <Setter Property="Width" Value="80"/>
                   <Setter Property="Height" Value="80"/>
                   <Setter Property="FontSize" Value="18"/>
                   <Setter Property="Command" Value="{Binding moveCommand}"/>
                   <Setter Property="CommandParameter" Value="{Binding $self.Content}"/>
               </Style>
           </StackPanel.Styles>
		   <Button Content="↑"/>
           <StackPanel Orientation="Horizontal" Spacing="80" HorizontalAlignment="Center">
			   <Button Content="←"/>
               <Button Content="→"/>
           </StackPanel>
           <Button Content="↓"/>
       </StackPanel>
        </Grid>
        
       <StackPanel Grid.Row="2" Margin="0,10,0,10" IsVisible="{Binding !#CKB.IsChecked}">
           <StackPanel.Styles>
			   <Style Selector="Button">
				   <Setter Property="Width" Value="80"/>
                   <Setter Property="Height" Value="80"/>
                   <Setter Property="FontSize" Value="18"/>
                   <Setter Property="Command" Value="{Binding moveCommand}"/>
                   <Setter Property="CommandParameter" Value="{Binding $self.Content}"/>
               </Style>
           </StackPanel.Styles>
		   <Button Content="↑"/>
           <StackPanel Orientation="Horizontal" Spacing="80" HorizontalAlignment="Center">
			   <Button Content="←"/>
               <Button Content="→"/>
           </StackPanel>
           <Button Content="↓"/>
       </StackPanel>
	</Grid>
</UserControl>
